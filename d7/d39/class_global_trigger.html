<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="generator" content="Doxygen 1.8.11"/>
    <title>ANITA Software: GlobalTrigger Class Reference</title>
    <link href="../../tabs.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="../../jquery.js"></script>
    <script type="text/javascript" src="../../dynsections.js"></script>
    <link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
    <link href="../../doxygen.css" rel="stylesheet" type="text/css" />
    <link href="../../customdoxygen.css" rel="stylesheet" type="text/css"/>
  </head>
  <body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
      <div id="titlearea">
	<table cellspacing="0" cellpadding="0">
	  <tbody>	    
	    <tr style="height: 56px;">
	      <td id="projectlogo"><img width="960" alt="Logo" src="../../anitaSoftware.png"/></td>
	    </tr>
	  </tbody>
	</table>
      </div>
      <!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Introduction</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="../../dc/d58/class_global_trigger-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">GlobalTrigger Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Global Trigger.  
 <a href="../../d7/d39/class_global_trigger.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../dc/ded/_global_trigger_8h_source.html">GlobalTrigger.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab1aa74871946e04a7a9a502fa0b5835a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab1aa74871946e04a7a9a502fa0b5835a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>GlobalTrigger</b> (<a class="el" href="../../db/d2b/class_settings.html">Settings</a> *settings1, <a class="el" href="../../df/da2/class_anita.html">Anita</a> *anita1)</td></tr>
<tr class="separator:ab1aa74871946e04a7a9a502fa0b5835a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe89fe2a083d661872c7c1fc5eca62ee"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afe89fe2a083d661872c7c1fc5eca62ee"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>GetArrivalTimes</b> (int inu, <a class="el" href="../../df/da2/class_anita.html">Anita</a> *anita1, const <a class="el" href="../../d5/db2/class_vector.html">Vector</a> &amp;rf_direction)</td></tr>
<tr class="separator:afe89fe2a083d661872c7c1fc5eca62ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9a6e5103964af4c4e78f934304def57"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d39/class_global_trigger.html#ad9a6e5103964af4c4e78f934304def57">PassesTrigger</a> (<a class="el" href="../../db/d2b/class_settings.html">Settings</a> *settings1, <a class="el" href="../../df/da2/class_anita.html">Anita</a> *anita1, int discones_passing, int mode, int *l3trig, int l2trig[<a class="el" href="../../df/da2/class_anita.html#a1c7ef28c5f83fa1e858a7d7bb64d666a">Anita::NPOL</a>][Anita::NTRIGGERLAYERS_MAX], int l1trig[<a class="el" href="../../df/da2/class_anita.html#a1c7ef28c5f83fa1e858a7d7bb64d666a">Anita::NPOL</a>][Anita::NTRIGGERLAYERS_MAX], int antennaclump, int loctrig[<a class="el" href="../../df/da2/class_anita.html#a1c7ef28c5f83fa1e858a7d7bb64d666a">Anita::NPOL</a>][<a class="el" href="../../df/da2/class_anita.html#a6bc753f453f91e30ed38f3cc4c30fbc3">Anita::NLAYERS_MAX</a>][<a class="el" href="../../df/da2/class_anita.html#af367aa78f54d08086f0f9c283ee3105e">Anita::NPHI_MAX</a>], int loctrig_nadironly[<a class="el" href="../../df/da2/class_anita.html#a1c7ef28c5f83fa1e858a7d7bb64d666a">Anita::NPOL</a>][<a class="el" href="../../df/da2/class_anita.html#af367aa78f54d08086f0f9c283ee3105e">Anita::NPHI_MAX</a>], int inu, int *thispasses, bool noiseOnly=false)</td></tr>
<tr class="memdesc:ad9a6e5103964af4c4e78f934304def57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluate the full trigger simulation for a given payload configuration.  <a href="#ad9a6e5103964af4c4e78f934304def57">More...</a><br /></td></tr>
<tr class="separator:ad9a6e5103964af4c4e78f934304def57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01e22cebe932de3f30f2aa1b7ac78687"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a01e22cebe932de3f30f2aa1b7ac78687"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>PassesTrigger</b> (<a class="el" href="../../db/d2b/class_settings.html">Settings</a> *settings1, <a class="el" href="../../df/da2/class_anita.html">Anita</a> *anita1, int discones_passing, int mode, int *l3trig, int l2trig[<a class="el" href="../../df/da2/class_anita.html#a1c7ef28c5f83fa1e858a7d7bb64d666a">Anita::NPOL</a>][Anita::NTRIGGERLAYERS_MAX], int l1trig[<a class="el" href="../../df/da2/class_anita.html#a1c7ef28c5f83fa1e858a7d7bb64d666a">Anita::NPOL</a>][Anita::NTRIGGERLAYERS_MAX], int antennaclump, int loctrig[<a class="el" href="../../df/da2/class_anita.html#a1c7ef28c5f83fa1e858a7d7bb64d666a">Anita::NPOL</a>][<a class="el" href="../../df/da2/class_anita.html#a6bc753f453f91e30ed38f3cc4c30fbc3">Anita::NLAYERS_MAX</a>][<a class="el" href="../../df/da2/class_anita.html#af367aa78f54d08086f0f9c283ee3105e">Anita::NPHI_MAX</a>], int loctrig_nadironly[<a class="el" href="../../df/da2/class_anita.html#a1c7ef28c5f83fa1e858a7d7bb64d666a">Anita::NPOL</a>][<a class="el" href="../../df/da2/class_anita.html#af367aa78f54d08086f0f9c283ee3105e">Anita::NPHI_MAX</a>], int inu, double this_threshold, int *thispasses, bool noiseOnly=false)</td></tr>
<tr class="separator:a01e22cebe932de3f30f2aa1b7ac78687"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcd9b0b35db3e90f14c4f6b780b6f778"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afcd9b0b35db3e90f14c4f6b780b6f778"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>PassesTriggerBasic</b> (<a class="el" href="../../db/d2b/class_settings.html">Settings</a> *settings1, <a class="el" href="../../df/da2/class_anita.html">Anita</a> *anita1, int discones_passing, int mode, int *l3trig, int l2trig[<a class="el" href="../../df/da2/class_anita.html#a1c7ef28c5f83fa1e858a7d7bb64d666a">Anita::NPOL</a>][Anita::NTRIGGERLAYERS_MAX], int l1trig[<a class="el" href="../../df/da2/class_anita.html#a1c7ef28c5f83fa1e858a7d7bb64d666a">Anita::NPOL</a>][Anita::NTRIGGERLAYERS_MAX], int antennaclump, int loctrig[<a class="el" href="../../df/da2/class_anita.html#a1c7ef28c5f83fa1e858a7d7bb64d666a">Anita::NPOL</a>][<a class="el" href="../../df/da2/class_anita.html#a6bc753f453f91e30ed38f3cc4c30fbc3">Anita::NLAYERS_MAX</a>][<a class="el" href="../../df/da2/class_anita.html#af367aa78f54d08086f0f9c283ee3105e">Anita::NPHI_MAX</a>], int loctrig_nadironly[<a class="el" href="../../df/da2/class_anita.html#a1c7ef28c5f83fa1e858a7d7bb64d666a">Anita::NPOL</a>][<a class="el" href="../../df/da2/class_anita.html#af367aa78f54d08086f0f9c283ee3105e">Anita::NPHI_MAX</a>], int *thispasses, int inu, bool noiseOnly=false)</td></tr>
<tr class="separator:afcd9b0b35db3e90f14c4f6b780b6f778"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2881b3d7da3a6be2d6151036c8abd4ea"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2881b3d7da3a6be2d6151036c8abd4ea"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>PassesTriggerCoherentSum</b> (<a class="el" href="../../db/d2b/class_settings.html">Settings</a> *settings1, <a class="el" href="../../df/da2/class_anita.html">Anita</a> *anita1, int inu, int *thispasses)</td></tr>
<tr class="separator:a2881b3d7da3a6be2d6151036c8abd4ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1109906bb0952493af673d5407652d76"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1109906bb0952493af673d5407652d76"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>PassesTriggerSummedPower</b> (<a class="el" href="../../db/d2b/class_settings.html">Settings</a> *settings1, <a class="el" href="../../df/da2/class_anita.html">Anita</a> *anita1)</td></tr>
<tr class="separator:a1109906bb0952493af673d5407652d76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab224579a3fe493c88fcdf9c4b606ba8b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab224579a3fe493c88fcdf9c4b606ba8b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>PassesTriggerScheme5</b> (<a class="el" href="../../df/da2/class_anita.html">Anita</a> *anita1, double this_threshold, int *thispasses)</td></tr>
<tr class="separator:ab224579a3fe493c88fcdf9c4b606ba8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d27c09a9a6363f4f37dc4cb4f21cf3e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d39/class_global_trigger.html#a9d27c09a9a6363f4f37dc4cb4f21cf3e">L3Trigger</a> (<a class="el" href="../../db/d2b/class_settings.html">Settings</a> *settings1, <a class="el" href="../../df/da2/class_anita.html">Anita</a> *anita1, int loctrig[<a class="el" href="../../df/da2/class_anita.html#a1c7ef28c5f83fa1e858a7d7bb64d666a">Anita::NPOL</a>][<a class="el" href="../../df/da2/class_anita.html#a6bc753f453f91e30ed38f3cc4c30fbc3">Anita::NLAYERS_MAX</a>][<a class="el" href="../../df/da2/class_anita.html#af367aa78f54d08086f0f9c283ee3105e">Anita::NPHI_MAX</a>], int loctrig_nadironly[<a class="el" href="../../df/da2/class_anita.html#a1c7ef28c5f83fa1e858a7d7bb64d666a">Anita::NPOL</a>][<a class="el" href="../../df/da2/class_anita.html#af367aa78f54d08086f0f9c283ee3105e">Anita::NPHI_MAX</a>], int discones_passing, int *l3trigy, int *thispasses)</td></tr>
<tr class="memdesc:a9d27c09a9a6363f4f37dc4cb4f21cf3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Level 3 Trigger Function.  <a href="#a9d27c09a9a6363f4f37dc4cb4f21cf3e">More...</a><br /></td></tr>
<tr class="separator:a9d27c09a9a6363f4f37dc4cb4f21cf3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1f3b7a07744e70e36f5b42cb37d1739"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d39/class_global_trigger.html#ad1f3b7a07744e70e36f5b42cb37d1739">GetPhiSector</a> (<a class="el" href="../../db/d2b/class_settings.html">Settings</a> *settings1, int i, int j)</td></tr>
<tr class="memdesc:ad1f3b7a07744e70e36f5b42cb37d1739"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides a mapping between the 4 layers and 16 phi sectors physically to the 3 layers and 16 sectors logically.  <a href="#ad1f3b7a07744e70e36f5b42cb37d1739">More...</a><br /></td></tr>
<tr class="separator:ad1f3b7a07744e70e36f5b42cb37d1739"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d88f561ec14573c139ee67d100813ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d39/class_global_trigger.html#a8d88f561ec14573c139ee67d100813ff">GetAnitaLayerPhiSector</a> (<a class="el" href="../../db/d2b/class_settings.html">Settings</a> *settings1, int i, int j, int &amp;whichlayer, int &amp;whichphisector)</td></tr>
<tr class="memdesc:a8d88f561ec14573c139ee67d100813ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides a mapping between the 4 layers and 16 phi sectors physically to the 3 layers and 16 sectors logically.  <a href="#a8d88f561ec14573c139ee67d100813ff">More...</a><br /></td></tr>
<tr class="separator:a8d88f561ec14573c139ee67d100813ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b34e0d891fc6a1a21c6be05ea9bbed5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d39/class_global_trigger.html#a2b34e0d891fc6a1a21c6be05ea9bbed5">FillInNadir</a> (<a class="el" href="../../df/da2/class_anita.html">Anita</a> *anita1, int *ant)</td></tr>
<tr class="memdesc:a2b34e0d891fc6a1a21c6be05ea9bbed5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual nadir antennas had effective L2 triggers based on neighbor antennas.  <a href="#a2b34e0d891fc6a1a21c6be05ea9bbed5">More...</a><br /></td></tr>
<tr class="separator:a2b34e0d891fc6a1a21c6be05ea9bbed5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9f1e933356b9295c10bdb70f9a447e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d39/class_global_trigger.html#aa9f1e933356b9295c10bdb70f9a447e5">FillInNadir</a> (<a class="el" href="../../db/d2b/class_settings.html">Settings</a> *settings1, <a class="el" href="../../df/da2/class_anita.html">Anita</a> *anita1, int ant)</td></tr>
<tr class="memdesc:aa9f1e933356b9295c10bdb70f9a447e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual nadir antennas had effective L2 triggers based on neighbor antennas.  <a href="#aa9f1e933356b9295c10bdb70f9a447e5">More...</a><br /></td></tr>
<tr class="separator:aa9f1e933356b9295c10bdb70f9a447e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0adb9d2ba6e5fc5702fae520583b5e08"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d39/class_global_trigger.html#a0adb9d2ba6e5fc5702fae520583b5e08">three_bit_round</a> (double input, bool round_zero_up=true, bool allow_zero=false)</td></tr>
<tr class="memdesc:a0adb9d2ba6e5fc5702fae520583b5e08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Three bit rounding function.  <a href="#a0adb9d2ba6e5fc5702fae520583b5e08">More...</a><br /></td></tr>
<tr class="separator:a0adb9d2ba6e5fc5702fae520583b5e08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25c961e78eb253bdf7bffb90b9e31be0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a25c961e78eb253bdf7bffb90b9e31be0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d39/class_global_trigger.html#a25c961e78eb253bdf7bffb90b9e31be0">convert_wfm_to_3_bit</a> (const vector&lt; double &gt; &amp;wfm, double rms, vector&lt; double &gt; &amp;output)</td></tr>
<tr class="memdesc:a25c961e78eb253bdf7bffb90b9e31be0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a waveform by sampling it into 3 bits, after it is normalized to the RMS. <br /></td></tr>
<tr class="separator:a25c961e78eb253bdf7bffb90b9e31be0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48113d648786aa91b1076824af045864"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d39/class_global_trigger.html#a48113d648786aa91b1076824af045864">delay_align_antenna_waveforms</a> (const vector&lt; vector&lt; vector&lt; double &gt; &gt; &gt; &amp;waveforms, const vector&lt; vector&lt; unsigned int &gt; &gt; &amp;delays, vector&lt; vector&lt; double &gt; &gt; &amp;output)</td></tr>
<tr class="memdesc:a48113d648786aa91b1076824af045864"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the difference in each arrival time due to propagation delay of the signal.  <a href="#a48113d648786aa91b1076824af045864">More...</a><br /></td></tr>
<tr class="separator:a48113d648786aa91b1076824af045864"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51307d40e79fad867b83acdea276a2d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d39/class_global_trigger.html#a51307d40e79fad867b83acdea276a2d6">sum_aligned_waveforms</a> (const vector&lt; vector&lt; double &gt; &gt; &amp;waveforms, vector&lt; double &gt; &amp;output)</td></tr>
<tr class="memdesc:a51307d40e79fad867b83acdea276a2d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a number of waveforms (usually 3) which are delay-aligned, it sums them.  <a href="#a51307d40e79fad867b83acdea276a2d6">More...</a><br /></td></tr>
<tr class="separator:a51307d40e79fad867b83acdea276a2d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bde1c1fb756b5a0ba4eea731d5bafc5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d39/class_global_trigger.html#a6bde1c1fb756b5a0ba4eea731d5bafc5">square_waveform_elements</a> (const vector&lt; double &gt; &amp;waveform, vector&lt; double &gt; &amp;output)</td></tr>
<tr class="memdesc:a6bde1c1fb756b5a0ba4eea731d5bafc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs an element-wise squaring of the values of the input array.  <a href="#a6bde1c1fb756b5a0ba4eea731d5bafc5">More...</a><br /></td></tr>
<tr class="separator:a6bde1c1fb756b5a0ba4eea731d5bafc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4468958c2847209f5c84c21f616734be"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d39/class_global_trigger.html#a4468958c2847209f5c84c21f616734be">summed_power_window</a> (const vector&lt; double &gt; &amp;waveform, unsigned int start_index, unsigned int length)</td></tr>
<tr class="memdesc:a4468958c2847209f5c84c21f616734be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sum a window from the specified starting index.  <a href="#a4468958c2847209f5c84c21f616734be">More...</a><br /></td></tr>
<tr class="separator:a4468958c2847209f5c84c21f616734be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae99a4b6768b5de5df081d915da12cbcd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae99a4b6768b5de5df081d915da12cbcd"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>findahit</b> (vector&lt; int &gt; myvector, int first, int last)</td></tr>
<tr class="separator:ae99a4b6768b5de5df081d915da12cbcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7108f7c4c347f1951b1d12e036a8d3d4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7108f7c4c347f1951b1d12e036a8d3d4"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>findanl3</b> (int *l3, int NPHISECTORS)</td></tr>
<tr class="separator:a7108f7c4c347f1951b1d12e036a8d3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9090706d4c40be0287b6d7c8cdd7a1d5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9090706d4c40be0287b6d7c8cdd7a1d5"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>L1Anita3_OnePhiSector</b> (int IZERO, vector&lt; int &gt; &amp;vl0_realtime_bottom, vector&lt; int &gt; &amp;vl0_realtime_middle, vector&lt; int &gt; &amp;vl0_realtime_top, vector&lt; int &gt; &amp;vl1_realtime_bottom, vector&lt; int &gt; &amp;vl1_realtime_middle, vector&lt; int &gt; &amp;vl1_realtime_top)</td></tr>
<tr class="separator:a9090706d4c40be0287b6d7c8cdd7a1d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7784135ed2658e7b885ec68cf0ee595"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae7784135ed2658e7b885ec68cf0ee595"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>L1Anita3_AllPhiSectors</b> (<a class="el" href="../../df/da2/class_anita.html">Anita</a> *anita1, std::array&lt; std::array&lt; std::vector&lt; int &gt;, 16 &gt;, 2 &gt; &amp;l1trig)</td></tr>
<tr class="separator:ae7784135ed2658e7b885ec68cf0ee595"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34f90d43a7956a5d924a077190f21287"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a34f90d43a7956a5d924a077190f21287"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>L1Anita4_OnePhiSector</b> (int IZERO, vector&lt; int &gt; &amp;vl0_realtime_bottom, vector&lt; int &gt; &amp;vl0_realtime_middle, vector&lt; int &gt; &amp;vl0_realtime_top, vector&lt; int &gt; &amp;vl1_realtime_bottom, vector&lt; int &gt; &amp;vl1_realtime_middle, vector&lt; int &gt; &amp;vl1_realtime_top)</td></tr>
<tr class="separator:a34f90d43a7956a5d924a077190f21287"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af23e523fad2975d4278452805d60b34f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af23e523fad2975d4278452805d60b34f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>L1Anita4_AllPhiSectors</b> (<a class="el" href="../../df/da2/class_anita.html">Anita</a> *anita1, std::array&lt; std::array&lt; std::vector&lt; int &gt;, 16 &gt;, 2 &gt; &amp;l1trig)</td></tr>
<tr class="separator:af23e523fad2975d4278452805d60b34f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25914508591ed8fe5ff6fbfa91e1a60c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a25914508591ed8fe5ff6fbfa91e1a60c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>L2Anita3and4</b> (<a class="el" href="../../df/da2/class_anita.html">Anita</a> *anita1, std::array&lt; std::array&lt; std::vector&lt; int &gt;, 16 &gt;, 2 &gt; l1trig, std::array&lt; std::array&lt; std::vector&lt; int &gt;, 16 &gt;, 2 &gt; &amp;l2trig)</td></tr>
<tr class="separator:a25914508591ed8fe5ff6fbfa91e1a60c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf2ab5cf3014a66f1b988ff696464828"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abf2ab5cf3014a66f1b988ff696464828"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>L3Anita3and4</b> (<a class="el" href="../../df/da2/class_anita.html">Anita</a> *anita1, std::array&lt; std::array&lt; std::vector&lt; int &gt;, 16 &gt;, 2 &gt; vl2trig, int vl3trig[2][16], int *thispasses)</td></tr>
<tr class="separator:abf2ab5cf3014a66f1b988ff696464828"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50a7db0b34d58704fba6ca429143c37e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a50a7db0b34d58704fba6ca429143c37e"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>PartofL1Anita4LR_ScA_TwoPhiSectors</b> (int ilayerreverse, int IZERO, int ipolar, vector&lt; int &gt; &amp;v1l0_realtime_left, vector&lt; int &gt; &amp;v2l0_realtime_left, vector&lt; int &gt; &amp;v1l0_realtime_right, vector&lt; int &gt; &amp;v2l0_realtime_right, vector&lt; int &gt; &amp;vl1_realtime)</td></tr>
<tr class="separator:a50a7db0b34d58704fba6ca429143c37e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32b9f1035864ad1ed9a0acf34b39b46b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a32b9f1035864ad1ed9a0acf34b39b46b"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>L1Anita4LR_ScA_TwoPhiSectors</b> (int IZERO, int ipolar, vector&lt; int &gt; &amp;vl0_realtime_bottomleft, vector&lt; int &gt; &amp;v2l0_realtime_bottomleft, vector&lt; int &gt; &amp;vl0_realtime_bottomright, vector&lt; int &gt; &amp;v2l0_realtime_bottomright, vector&lt; int &gt; &amp;vl0_realtime_middleleft, vector&lt; int &gt; &amp;v2l0_realtime_middleleft, vector&lt; int &gt; &amp;vl0_realtime_middleright, vector&lt; int &gt; &amp;v2l0_realtime_middleright, vector&lt; int &gt; &amp;vl0_realtime_topleft, vector&lt; int &gt; &amp;v2l0_realtime_topleft, vector&lt; int &gt; &amp;vl0_realtime_topright, vector&lt; int &gt; &amp;v2l0_realtime_topright, vector&lt; int &gt; &amp;vl1_realtime_bottom, vector&lt; int &gt; &amp;vl1_realtime_middle, vector&lt; int &gt; &amp;vl1_realtime_top)</td></tr>
<tr class="separator:a32b9f1035864ad1ed9a0acf34b39b46b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a029756179b55fdbb0a647a3f7ee24c83"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a029756179b55fdbb0a647a3f7ee24c83"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>L1Anita4LR_ScA_AllPhiSectors</b> (<a class="el" href="../../df/da2/class_anita.html">Anita</a> *anita1, std::array&lt; std::array&lt; std::vector&lt; int &gt;, 16 &gt;, 2 &gt; &amp;vl1trig)</td></tr>
<tr class="separator:a029756179b55fdbb0a647a3f7ee24c83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8321fe394f70ad15066eb7b4c2dce78e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8321fe394f70ad15066eb7b4c2dce78e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>L3Anita4LR_ScA</b> (<a class="el" href="../../df/da2/class_anita.html">Anita</a> *anita1, std::array&lt; std::array&lt; std::vector&lt; int &gt;, 16 &gt;, 2 &gt; vl2trig, int *thispasses)</td></tr>
<tr class="separator:a8321fe394f70ad15066eb7b4c2dce78e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad54640cde4d65418f9701a70ec2c71da"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad54640cde4d65418f9701a70ec2c71da"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>L1Anita4LR_ScB_AllAntennas_OneBin</b> (int IZERO, <a class="el" href="../../df/da2/class_anita.html">Anita</a> *anita1, std::array&lt; std::array&lt; vector&lt; int &gt;, 16 &gt;, 3 &gt; &amp;vl1trig_anita4lr_scb, int &amp;npassesl1)</td></tr>
<tr class="separator:ad54640cde4d65418f9701a70ec2c71da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7da0f483f1d83bd12b26a5705a348a9b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7da0f483f1d83bd12b26a5705a348a9b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>L1Anita4LR_ScB_OneBin</b> (int IZERO, vector&lt; int &gt; vleft, vector&lt; int &gt; vright, vector&lt; int &gt; &amp;vl1trig)</td></tr>
<tr class="separator:a7da0f483f1d83bd12b26a5705a348a9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d0acc9080c69fa20cfe248f7cdd972d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4d0acc9080c69fa20cfe248f7cdd972d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>L2Anita4LR_ScB_AllPhiSectors_OneBin</b> (int IZERO, <a class="el" href="../../df/da2/class_anita.html">Anita</a> *anita1, std::array&lt; std::array&lt; vector&lt; int &gt;, 16 &gt;, 3 &gt; vl1trig_anita4lr_scb, std::array&lt; std::array&lt; vector&lt; int &gt;, 3 &gt;, 16 &gt; &amp;vl2_realtime_anita4_scb, int &amp;npassesl2, int &amp;npassesl2_type0)</td></tr>
<tr class="separator:a4d0acc9080c69fa20cfe248f7cdd972d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af10928405202d596cc8215a846322d50"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af10928405202d596cc8215a846322d50"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>L2Anita4LR_ScB_OnePhiSector_OneBin</b> (int IZERO, vector&lt; int &gt; vl1_bottom, vector&lt; int &gt; vl1_middle, vector&lt; int &gt; vl1_top, std::array&lt; vector&lt; int &gt;, 3 &gt; &amp;vl2_realtime_anita4_scb, int &amp;npassesl2, int &amp;npassesl2_type0)</td></tr>
<tr class="separator:af10928405202d596cc8215a846322d50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a177c333c1be73bacf989e9a4d49a976f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a177c333c1be73bacf989e9a4d49a976f"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>L3or30Anita4LR_ScB_TwoPhiSectors_OneBin</b> (int IZERO, std::array&lt; vector&lt; int &gt;, 3 &gt; vl2_realtime_anita4_scb, std::array&lt; vector&lt; int &gt;, 3 &gt; vl2_realtime_anita4_scb_other, int npass1, int npass2)</td></tr>
<tr class="separator:a177c333c1be73bacf989e9a4d49a976f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c6fc054fa34ceef2d3b0a4a389142ac"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0c6fc054fa34ceef2d3b0a4a389142ac"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>L3Anita4LR_ScB_OneBin</b> (int IZERO, <a class="el" href="../../df/da2/class_anita.html">Anita</a> *anita1, std::array&lt; std::array&lt; vector&lt; int &gt;, 3 &gt;, 16 &gt; vl2_realtime_anita4_scb, std::array&lt; vector&lt; int &gt;, 16 &gt; &amp;vl3trig_type0, std::array&lt; vector&lt; int &gt;, 16 &gt; &amp;vl3trig_type1, int &amp;thispasses_l3type0, int &amp;thispasses_l3type1)</td></tr>
<tr class="separator:a0c6fc054fa34ceef2d3b0a4a389142ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa417d124065683687d41fa6d75de66c9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa417d124065683687d41fa6d75de66c9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>delayL0</b> (vector&lt; int &gt; &amp;vl0, double delay)</td></tr>
<tr class="separator:aa417d124065683687d41fa6d75de66c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19b96f1770266101a1442c0e5695d9f6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a19b96f1770266101a1442c0e5695d9f6"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>delay_AllAntennas</b> (<a class="el" href="../../df/da2/class_anita.html">Anita</a> *anita1)</td></tr>
<tr class="separator:a19b96f1770266101a1442c0e5695d9f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ac63062f75f31b9b6b6f670adca421aca"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac63062f75f31b9b6b6f670adca421aca"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>TRIGTIMESTEP</b></td></tr>
<tr class="separator:ac63062f75f31b9b6b6f670adca421aca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2901b5d03bb419d8422ccd936923fbb1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2901b5d03bb419d8422ccd936923fbb1"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>nstepback</b></td></tr>
<tr class="separator:a2901b5d03bb419d8422ccd936923fbb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7471eae89bc0e0c4694acec2f8c3c925"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7471eae89bc0e0c4694acec2f8c3c925"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>L1_COINCIDENCE_ANITA3</b> [3]</td></tr>
<tr class="separator:a7471eae89bc0e0c4694acec2f8c3c925"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d2aab7f7ae3242c9f036b0ca57d38dc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7d2aab7f7ae3242c9f036b0ca57d38dc"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>LASTTIMETOTESTL1_ANITA3</b></td></tr>
<tr class="separator:a7d2aab7f7ae3242c9f036b0ca57d38dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af62cd8b6c4a9bb02243e963310626a2f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af62cd8b6c4a9bb02243e963310626a2f"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>L3_COINCIDENCE</b></td></tr>
<tr class="separator:af62cd8b6c4a9bb02243e963310626a2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3611cf0b14b3f3dfbf5b1e3a03243da5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3611cf0b14b3f3dfbf5b1e3a03243da5"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>L1_COINCIDENCE_MOREGENERAL</b> [3][2]</td></tr>
<tr class="separator:a3611cf0b14b3f3dfbf5b1e3a03243da5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3175ee335e21ce7848819bdf16779466"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3175ee335e21ce7848819bdf16779466"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>LASTTIMETOTESTL1_ANITA4</b></td></tr>
<tr class="separator:a3175ee335e21ce7848819bdf16779466"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeed4ba3b8f6b1acfe0dac0556ba99897"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeed4ba3b8f6b1acfe0dac0556ba99897"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>LASTTIMETOTESTL1_ANITA4LR_SCA</b></td></tr>
<tr class="separator:aeed4ba3b8f6b1acfe0dac0556ba99897"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68107c055b9b8b06d3d1d15b156a4d83"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a68107c055b9b8b06d3d1d15b156a4d83"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>L1_COINCIDENCE_LR_SCA</b> [2]</td></tr>
<tr class="separator:a68107c055b9b8b06d3d1d15b156a4d83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a064ad84563e29ca89d740293af7c8e8b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a064ad84563e29ca89d740293af7c8e8b"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>WHICHLAYERSLCPRCP</b> [Anita::NTRIGGERLAYERS_MAX]</td></tr>
<tr class="separator:a064ad84563e29ca89d740293af7c8e8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a342e72a504004720272eac72ad2fa2a7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a342e72a504004720272eac72ad2fa2a7"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>L1_COINCIDENCE_ANITA4LR_SCB</b></td></tr>
<tr class="separator:a342e72a504004720272eac72ad2fa2a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedff66327b46a4d3854eb2196a0767db"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aedff66327b46a4d3854eb2196a0767db"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>LASTTIMETOTESTL1_ANITA4LR_SCB</b></td></tr>
<tr class="separator:aedff66327b46a4d3854eb2196a0767db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92ac2ef49dd7e49691ba903267df3375"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a92ac2ef49dd7e49691ba903267df3375"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>L2_COINCIDENCE_ANITA4LR_SCB</b> [3]</td></tr>
<tr class="separator:a92ac2ef49dd7e49691ba903267df3375"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc35cdf2c18504b2dd27113838c12716"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acc35cdf2c18504b2dd27113838c12716"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>LASTTIMETOTESTL2_ANITA4LR_SCB</b></td></tr>
<tr class="separator:acc35cdf2c18504b2dd27113838c12716"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68ff0d0e249badc0481d2f18d6fd9516"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a68ff0d0e249badc0481d2f18d6fd9516"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>L3_COINCIDENCE_ANITA4LR_SCB</b></td></tr>
<tr class="separator:a68ff0d0e249badc0481d2f18d6fd9516"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8143817f49b621b06d4668e4c579a0bc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8143817f49b621b06d4668e4c579a0bc"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>DELAYS</b> [3]</td></tr>
<tr class="separator:a8143817f49b621b06d4668e4c579a0bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0602a1d3ffa514582b8860ab09659997"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0602a1d3ffa514582b8860ab09659997"></a>
vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>flag_e_L1</b> [<a class="el" href="../../df/da2/class_anita.html#af367aa78f54d08086f0f9c283ee3105e">Anita::NPHI_MAX</a>]</td></tr>
<tr class="separator:a0602a1d3ffa514582b8860ab09659997"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0a77d72bcc8e3badde1b177741335ed"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac0a77d72bcc8e3badde1b177741335ed"></a>
vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>flag_h_L1</b> [<a class="el" href="../../df/da2/class_anita.html#af367aa78f54d08086f0f9c283ee3105e">Anita::NPHI_MAX</a>]</td></tr>
<tr class="separator:ac0a77d72bcc8e3badde1b177741335ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22c60e40bf937e0ee61125fb1ce60878"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a22c60e40bf937e0ee61125fb1ce60878"></a>
UShort_t&#160;</td><td class="memItemRight" valign="bottom"><b>phiTrigMask</b> [<a class="el" href="../../df/da2/class_anita.html#a1c7ef28c5f83fa1e858a7d7bb64d666a">Anita::NPOL</a>]</td></tr>
<tr class="separator:a22c60e40bf937e0ee61125fb1ce60878"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba8e690bc60962f89ca8144512ca8cad"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aba8e690bc60962f89ca8144512ca8cad"></a>
UShort_t&#160;</td><td class="memItemRight" valign="bottom"><b>l1TrigMask</b> [<a class="el" href="../../df/da2/class_anita.html#a1c7ef28c5f83fa1e858a7d7bb64d666a">Anita::NPOL</a>]</td></tr>
<tr class="separator:aba8e690bc60962f89ca8144512ca8cad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af55ca43b75fc7368daf84f1c77fcd2b7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af55ca43b75fc7368daf84f1c77fcd2b7"></a>
UShort_t&#160;</td><td class="memItemRight" valign="bottom"><b>thresholds_eachant</b> [2][48]</td></tr>
<tr class="separator:af55ca43b75fc7368daf84f1c77fcd2b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7db463ba39e51e4e4450bb63f1aab70"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae7db463ba39e51e4e4450bb63f1aab70"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>volts</b> [2][<a class="el" href="../../df/da2/class_anita.html#a6bc753f453f91e30ed38f3cc4c30fbc3">Anita::NLAYERS_MAX</a>][<a class="el" href="../../df/da2/class_anita.html#af367aa78f54d08086f0f9c283ee3105e">Anita::NPHI_MAX</a>]</td></tr>
<tr class="separator:ae7db463ba39e51e4e4450bb63f1aab70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66f179ac8d56a0d3f8f9865465dccf5c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a66f179ac8d56a0d3f8f9865465dccf5c"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>volts_em</b> [2][<a class="el" href="../../df/da2/class_anita.html#a6bc753f453f91e30ed38f3cc4c30fbc3">Anita::NLAYERS_MAX</a>][<a class="el" href="../../df/da2/class_anita.html#af367aa78f54d08086f0f9c283ee3105e">Anita::NPHI_MAX</a>]</td></tr>
<tr class="separator:a66f179ac8d56a0d3f8f9865465dccf5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd6fe74e1fc3bd8d2d337ea9d3c796c9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afd6fe74e1fc3bd8d2d337ea9d3c796c9"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>volts_original</b> [2][<a class="el" href="../../df/da2/class_anita.html#a6bc753f453f91e30ed38f3cc4c30fbc3">Anita::NLAYERS_MAX</a>][<a class="el" href="../../df/da2/class_anita.html#af367aa78f54d08086f0f9c283ee3105e">Anita::NPHI_MAX</a>]</td></tr>
<tr class="separator:afd6fe74e1fc3bd8d2d337ea9d3c796c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1615404b8ee4f3202b6724b612eabf51"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1615404b8ee4f3202b6724b612eabf51"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>nchannels_perrx_triggered</b> [48]</td></tr>
<tr class="separator:a1615404b8ee4f3202b6724b612eabf51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86dd1d5e08dfb85c265a99a4dac49354"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a86dd1d5e08dfb85c265a99a4dac49354"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>nchannels_perband_triggered</b> [48][8]</td></tr>
<tr class="separator:a86dd1d5e08dfb85c265a99a4dac49354"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a199f6ccf68cddae7ba41548aad2672fb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a199f6ccf68cddae7ba41548aad2672fb"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>channels_passing</b> [<a class="el" href="../../df/da2/class_anita.html#a6bc753f453f91e30ed38f3cc4c30fbc3">Anita::NLAYERS_MAX</a>][<a class="el" href="../../df/da2/class_anita.html#af367aa78f54d08086f0f9c283ee3105e">Anita::NPHI_MAX</a>][2][<a class="el" href="../../df/da2/class_anita.html#a9f74d63fb8c9385c8352def7f0df5c1f">Anita::NBANDS_MAX</a>]</td></tr>
<tr class="separator:a199f6ccf68cddae7ba41548aad2672fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0c737f1c8c090dfba38bce36d7076d6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af0c737f1c8c090dfba38bce36d7076d6"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>channels_passing_justNoise</b> [<a class="el" href="../../df/da2/class_anita.html#a6bc753f453f91e30ed38f3cc4c30fbc3">Anita::NLAYERS_MAX</a>][<a class="el" href="../../df/da2/class_anita.html#af367aa78f54d08086f0f9c283ee3105e">Anita::NPHI_MAX</a>][2][<a class="el" href="../../df/da2/class_anita.html#a9f74d63fb8c9385c8352def7f0df5c1f">Anita::NBANDS_MAX</a>]</td></tr>
<tr class="separator:af0c737f1c8c090dfba38bce36d7076d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e066091d48401a56fd67805bad8ada3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0e066091d48401a56fd67805bad8ada3"></a>
vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>vchannels_passing</b> [<a class="el" href="../../df/da2/class_anita.html#a6bc753f453f91e30ed38f3cc4c30fbc3">Anita::NLAYERS_MAX</a>][<a class="el" href="../../df/da2/class_anita.html#af367aa78f54d08086f0f9c283ee3105e">Anita::NPHI_MAX</a>][2]</td></tr>
<tr class="separator:a0e066091d48401a56fd67805bad8ada3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0069c3da1c2044a6d31a077bb10170b9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0069c3da1c2044a6d31a077bb10170b9"></a>
std::array&lt; std::array&lt; std::array&lt; std::array&lt; std::vector&lt; int &gt;, 5 &gt;, 2 &gt;, 16 &gt;, 3 &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>arrayofhits</b></td></tr>
<tr class="separator:a0069c3da1c2044a6d31a077bb10170b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89f6b93ab235f0681ebc4b3e6e869f72"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a89f6b93ab235f0681ebc4b3e6e869f72"></a>
std::array&lt; std::array&lt; std::array&lt; std::array&lt; std::vector&lt; int &gt;, 5 &gt;, 2 &gt;, 16 &gt;, 3 &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>arrayofhitsnoise</b></td></tr>
<tr class="separator:a89f6b93ab235f0681ebc4b3e6e869f72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af94cea4d51841051506722bdd515df86"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af94cea4d51841051506722bdd515df86"></a>
std::array&lt; std::array&lt; std::array&lt; std::array&lt; std::vector&lt; int &gt;, 5 &gt;, 2 &gt;, 16 &gt;, 3 &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>arrayofhitsall</b></td></tr>
<tr class="separator:af94cea4d51841051506722bdd515df86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ebad30f9f22aacc3ca7cdb77c8d0f62"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5ebad30f9f22aacc3ca7cdb77c8d0f62"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>triggerbits</b> [Anita::NTRIG]</td></tr>
<tr class="separator:a5ebad30f9f22aacc3ca7cdb77c8d0f62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e07976c151a16d4c8df99e800e1b324"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6e07976c151a16d4c8df99e800e1b324"></a>
vector&lt; vector&lt; vector&lt; double &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>volts_rx_rfcm_trigger</b></td></tr>
<tr class="separator:a6e07976c151a16d4c8df99e800e1b324"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7088c7cab49f76345e68130fe49f9c0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae7088c7cab49f76345e68130fe49f9c0"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>first_phi_sector_hit</b></td></tr>
<tr class="separator:ae7088c7cab49f76345e68130fe49f9c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Global Trigger. </p>

<p>Definition at line <a class="el" href="../../dc/ded/_global_trigger_8h_source.html#l00012">12</a> of file <a class="el" href="../../dc/ded/_global_trigger_8h_source.html">GlobalTrigger.h</a>.</p>
</div><div class="dynheader">
Collaboration diagram for GlobalTrigger:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d97/class_global_trigger__coll__graph.png" border="0" usemap="#_global_trigger_coll__map" alt="Collaboration graph"/></div>
<map name="_global_trigger_coll__map" id="_global_trigger_coll__map">
</map>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a48113d648786aa91b1076824af045864"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GlobalTrigger::delay_align_antenna_waveforms </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; vector&lt; vector&lt; double &gt; &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>waveforms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vector&lt; vector&lt; unsigned int &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>delays</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; vector&lt; double &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the difference in each arrival time due to propagation delay of the signal. </p>
<p>Method void GetArrivalTimes: input: direction of rf propagation when it arrives at balloon (earth frame), balloon location (earth frame) rotation of balloon around axis of symmetry</p>
<p>output: array of doubles giving time at which rf reaches antenna feedpoint, where the first antenna is hit at t=0.</p>
<p>This method takes as input the rf direction, the location of the balloon, the phi spin of the balloon, and an array of vectors initialized to point to the location of the antennas, assuming the balloon is upright at the south pole, with no spin.</p>
<p>The method transforms the antenna location vectors to point from the current center of the balloon (actually the center of the top ring of antennas) to the antennas, assuming that the balloon is vertical over the surface of the ice, and taking into account a possible phi spin.</p>
<p>The method projects the antenna direction vector onto the rf direction to find the distance between the center of the balloon and each antenna, along the direction of rf propagation.</p>
<p>Finally, arrival times are shifted so that the first antenna triggered is at time 0.Shifts waveforms in time to simulate relative signal delays caused by propagation</p>
<p>This function accepts nested vectors of waveforms along with nested vectors of delays and then iterates through nested for-loops whose bounds iterate with the surrounding scope.</p>
<p>The output is assembled and then truncated to prevent uneven array lengths post-shifting.</p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000012">Todo:</a></b></dt><dd>Instead of accepting nested vectors, boost::multi_array/_views or PayloadArray objects should be passed in and out.</dd></dl>
<pre class="fragment">    Something to keep in mind is that RVO (Return Value Optimization) can
    make it actually faster to return a large object by value if it can
    be used to immediately construct another object.

    Also, instead of worrying about resizing the arrays it'd probably
    be better to store the time index of the last signal bin, and then
    simply pass that bin as the end iterator offset for the truncated array.

    The use of vector&lt;&gt;::push_back may cause performance issues but more
    importantly the use of clear() and element-by-element assignment causes
    more concern than they're worth, so they should be replaced with
    std::copy() for the temporaries which need it and just use functions from
    the standard library's #include &lt;algorithm&gt;.

    Realistically though, the delays should just be used to advance the iterators.</pre> 
<p>Definition at line <a class="el" href="../../de/d06/_global_trigger_8cc_source.html#l01713">1713</a> of file <a class="el" href="../../de/d06/_global_trigger_8cc_source.html">GlobalTrigger.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a2b34e0d891fc6a1a21c6be05ea9bbed5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GlobalTrigger::FillInNadir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/da2/class_anita.html">Anita</a> *&#160;</td>
          <td class="paramname"><em>anita1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ant</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Virtual nadir antennas had effective L2 triggers based on neighbor antennas. </p>
<p>the nadir layer only has 8 antennas but there are 16 slots in the "trigger layer" ant[][] is 1 if the l1 trigger is fired for each antenna fill the slots in between the actual antennas with the "or" of the neighboring antennas</p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000008">Todo:</a></b></dt><dd>Deprecate this function in favor of PayloadArray or boost::multi_array objects which provide the ability to have multiple indexing schemes for a given collection of objects. For this case specifically PayloadArray was designed to have iterators and accessors which "OR" the values of the neighboring antennas, and are optionally read-only. </dd></dl>

<p>Definition at line <a class="el" href="../../de/d06/_global_trigger_8cc_source.html#l01395">1395</a> of file <a class="el" href="../../de/d06/_global_trigger_8cc_source.html">GlobalTrigger.cc</a>.</p>

</div>
</div>
<a class="anchor" id="aa9f1e933356b9295c10bdb70f9a447e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GlobalTrigger::FillInNadir </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d2b/class_settings.html">Settings</a> *&#160;</td>
          <td class="paramname"><em>settings1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/da2/class_anita.html">Anita</a> *&#160;</td>
          <td class="paramname"><em>anita1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ant</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Virtual nadir antennas had effective L2 triggers based on neighbor antennas. </p>
<p>the nadir layer only has 8 antennas but there are 16 slots in the "trigger layer" ant[][] is 1 if the l1 trigger is fired for each antenna fill the slots in between the actual antennas with the "or" of the neighboring antennas</p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000007">Todo:</a></b></dt><dd>Deprecate this function in favor of PayloadArray or boost::multi_array objects which provide the ability to have multiple indexing schemes for a given collection of objects. For this case specifically PayloadArray was designed to have iterators and accessors which "OR" the values of the neighboring antennas, and are optionally read-only. </dd></dl>

<p>Definition at line <a class="el" href="../../de/d06/_global_trigger_8cc_source.html#l01352">1352</a> of file <a class="el" href="../../de/d06/_global_trigger_8cc_source.html">GlobalTrigger.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a8d88f561ec14573c139ee67d100813ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GlobalTrigger::GetAnitaLayerPhiSector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d2b/class_settings.html">Settings</a> *&#160;</td>
          <td class="paramname"><em>settings1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>j</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>whichlayer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>whichphisector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Provides a mapping between the 4 layers and 16 phi sectors physically to the 3 layers and 16 sectors logically. </p>
<p>Because every payload had a different number of antennas, this provides a relation from where the antennas were located physically and how they were considered to by positioned logically by the triggering system.</p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000010">Todo:</a></b></dt><dd>Deprecate this function in favor of PayloadArray or boost::multi_array objects which provide the ability to have multiple indexing schemes for a given collection of objects. </dd></dl>

<p>Definition at line <a class="el" href="../../de/d06/_global_trigger_8cc_source.html#l01457">1457</a> of file <a class="el" href="../../de/d06/_global_trigger_8cc_source.html">GlobalTrigger.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ad1f3b7a07744e70e36f5b42cb37d1739"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GlobalTrigger::GetPhiSector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d2b/class_settings.html">Settings</a> *&#160;</td>
          <td class="paramname"><em>settings1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>j</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Provides a mapping between the 4 layers and 16 phi sectors physically to the 3 layers and 16 sectors logically. </p>
<p>Because the top two layers of antennas had only 8 antennas each and were rotated perfectly out of phase of one another, such a conversion was needed to keep the trigger sane.</p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000009">Todo:</a></b></dt><dd>Deprecate this function in favor of PayloadArray or boost::multi_array objects which provide the ability to have multiple indexing schemes for a given collection of objects. </dd></dl>

<p>Definition at line <a class="el" href="../../de/d06/_global_trigger_8cc_source.html#l01426">1426</a> of file <a class="el" href="../../de/d06/_global_trigger_8cc_source.html">GlobalTrigger.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a9d27c09a9a6363f4f37dc4cb4f21cf3e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GlobalTrigger::L3Trigger </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d2b/class_settings.html">Settings</a> *&#160;</td>
          <td class="paramname"><em>settings1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/da2/class_anita.html">Anita</a> *&#160;</td>
          <td class="paramname"><em>anita1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>loctrig</em>[Anita::NPOL][Anita::NLAYERS_MAX][Anita::NPHI_MAX], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>loctrig_nadironly</em>[Anita::NPOL][Anita::NPHI_MAX], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>discones_passing</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>l3trig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>thispasses</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Level 3 Trigger Function. </p>
<p>Given a trigger scheme (represented via the Settings::WHICH value), the results of the previous trigger (the L2 trigger) are compared against one of the various combinatoric triggers.</p>
<p>For <a class="el" href="../../df/da2/class_anita.html" title="Contains everything about positions within payload and signals it sees for each event, in both the trigger and signal paths. ">Anita</a> 2, the trigger required two layers out of the three L2 triggers in a phi sector, but for sectors which did not have a nadir antennas, these "phantom nadirs" were a boolean "OR" of the two nadir antennas closest to that phi sector. Finally, two neighboring phi sectors must have accomplished this in order to produce a triggered L3.</p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000011">Todo:</a></b></dt><dd>The organization of this function needs to be changed so that a single variables turns on (or off) a single component of the trigger/simulation. The organization as it stands makes it difficult to know what features a particular trigger should be exhibiting.</dd></dl>
<pre class="fragment">    Along this topic, the values for settings should be either strings, values mapped
    to strings (such as boost::variable_map), or enumerations with a proper descriptive
    declared name. That way when settings1-&gt;WHICH would have a value of 9, it would be
    written settings1-&gt;WHICH==ANITA3.

    Lastly, the boolean functions which are chained together to represent the full state
    machine of the trigger electronics are an impossible-to-find bug waiting to happen.
    "Short circuit evaluation" and less-than-obvious operator fixity rules make the
    given representation one of the most difficult to manage.

    The use of standard library functions "all_of", "any_of", "none_of", "count", and
    "count_if" on an intelligent container like boost::multi_array or PayloadArray would
    make the expression of the trigger requirements much more clear and less prone to
    error.

    Finally, all modern compilers will automatically optimize power-of-two multiplication
    of integers into a bit shift, so nothing is lost by switching from explicit shifts to
    multiplication, and readability is gained.</pre> 
<p>Definition at line <a class="el" href="../../de/d06/_global_trigger_8cc_source.html#l01540">1540</a> of file <a class="el" href="../../de/d06/_global_trigger_8cc_source.html">GlobalTrigger.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ad9a6e5103964af4c4e78f934304def57"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GlobalTrigger::PassesTrigger </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d2b/class_settings.html">Settings</a> *&#160;</td>
          <td class="paramname"><em>settings1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/da2/class_anita.html">Anita</a> *&#160;</td>
          <td class="paramname"><em>anita1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>discones_passing</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>l3trig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>l2trig</em>[Anita::NPOL][Anita::NTRIGGERLAYERS_MAX], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>l1trig</em>[Anita::NPOL][Anita::NTRIGGERLAYERS_MAX], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>antennaclump</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>loctrig</em>[Anita::NPOL][Anita::NLAYERS_MAX][Anita::NPHI_MAX], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>loctrig_nadironly</em>[Anita::NPOL][Anita::NPHI_MAX], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>inu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>thispasses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>noiseOnly</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Evaluate the full trigger simulation for a given payload configuration. </p>
<p>PassesTrigger handles the logistics for the triggering of all trigger systems.</p>
<p>The triggering system begins with the calculations to determine which channels will pass the "L0" trigger. Each antenna on <a class="el" href="../../df/da2/class_anita.html" title="Contains everything about positions within payload and signals it sees for each event, in both the trigger and signal paths. ">Anita</a> 2 had two polarizations, and each polarization was divided up into five frequency bands. The frequency bands would be independently measured to see if the signal was over the threshold. If 3 of the 8 bands for an antenna (in some experiments, at least) exceeded the threshold then that antenna would have triggered an "L1", or antenna-level trigger.</p>
<p>From there, the different triggering systems start to diverge, each requiring some different combinatoric trigger to be satisfied before escalating to the next-higher-level trigger.</p>
<p>The trigger system using TRIGGERSCHEME==3 is a good deal different from the other triggers, because of a few thing:</p><ul>
<li>All bands were assumed to have passed</li>
<li>The trigger scans over many possible physical propagation delays in an attempt to find the highest power</li>
<li>If the highest power for that antenna group happens to exceed the set threshold, then...</li>
<li>If two neighboring phi sectors find powers above the threshold, then a global trigger occurs</li>
</ul>
<p>The antenna trigger clusters have been different configurations in the past, with early Anita3 designs using the "Coherent Sum Trigger", which uses 9 antennas per cluster. More current trigger designs use 3 antennas per coherent-summing-group, though this more recent trigger is referred to as the "Summed Power Trigger"</p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000006">Todo:</a></b></dt><dd>This function needs to be heavily refactored into either functions which perform some smaller part of every trigger, or some functions which perform one triggering system in its entirely, or a combination of the two.</dd></dl>
<pre class="fragment">    The longer a function gets, the less confidence can be had in it because instead of many small, well-tested
    modular functions, functions of this length develop into massive hacks which may appear to perform the same
    but no such guarantee can be made.

    There are a lot of functions and code snippets which could be very easily replaced by standard library
    functions, or by embracing "RAII" ("Resource Acquisition Is Initialization") and using fewer C arrays and
    more of the standard library functions (particularly those in "algorithm", "functional", and "numeric"
    and above all the container libraries. Those libraries will help (along with the refactor) alleviate the
    difficult-to-follow nesting of for-loops within conditional statements.

    Many of the combinatoric triggers can have a logical mask made in order to very clearly define and later
    comprehend the requirements of the triggers, and less nesting of loops is necessary.

    Using scoped accumulators for calculating statistics is also a good idea here, as it reduces the number of
    functions and the number of objects needed to produce a distribution of values to just one object, making
    mistakes/errors much less likely. *         

    There is a decent amount of dead code which should be pruned, as well.</pre> 
<p>Definition at line <a class="el" href="../../de/d06/_global_trigger_8cc_source.html#l00211">211</a> of file <a class="el" href="../../de/d06/_global_trigger_8cc_source.html">GlobalTrigger.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a6bde1c1fb756b5a0ba4eea731d5bafc5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GlobalTrigger::square_waveform_elements </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>waveform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs an element-wise squaring of the values of the input array. </p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000014">Todo:</a></b></dt><dd>This function should be deprecated because the same functionality is provided by the standard library:</dd></dl>
<pre class="fragment">std::transform(wfm.begin(), wfm.end(), result.begin(), [](auto&amp; x){x *= x});

    or by using the boost library:

result = boost::transform(wfm, [](auto&amp; x){x *= x});</pre> 
<p>Definition at line <a class="el" href="../../de/d06/_global_trigger_8cc_source.html#l01778">1778</a> of file <a class="el" href="../../de/d06/_global_trigger_8cc_source.html">GlobalTrigger.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a51307d40e79fad867b83acdea276a2d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GlobalTrigger::sum_aligned_waveforms </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; vector&lt; double &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>waveforms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given a number of waveforms (usually 3) which are delay-aligned, it sums them. </p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000013">Todo:</a></b></dt><dd>This should not take nested vectors as a parameter but rather a boost::multi_array or boost::multi_array_view, or an instance of the PayloadArray class, which is a multi_array container modified to have circular indices. Also, the bounds of the for-loop should not be separately declared as it just adds another point of failure. </dd></dl>

<p>Definition at line <a class="el" href="../../de/d06/_global_trigger_8cc_source.html#l01750">1750</a> of file <a class="el" href="../../de/d06/_global_trigger_8cc_source.html">GlobalTrigger.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a4468958c2847209f5c84c21f616734be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double GlobalTrigger::summed_power_window </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>waveform</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>start_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sum a window from the specified starting index. </p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000015">Todo:</a></b></dt><dd>This function should be replaced as it is unnecessary &ndash; the same thing can be done more legibly with std::accumulate(...) :</dd></dl>
<pre class="fragment">double sum = std::accumulate(wfm.begin(), wfm.end(), 0.); </pre> 
<p>Definition at line <a class="el" href="../../de/d06/_global_trigger_8cc_source.html#l01795">1795</a> of file <a class="el" href="../../de/d06/_global_trigger_8cc_source.html">GlobalTrigger.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a0adb9d2ba6e5fc5702fae520583b5e08"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double GlobalTrigger::three_bit_round </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>round_zero_up</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>allow_zero</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Three bit rounding function. </p>
<p>This function takes an input and digitizes it into one of 8 (2^3 == 8) intervals, with unit spacing from -3.5 to +3.5.</p>
<p>This function takes a number and will round it to the closest integer multiple plus 0.5, using randomness to get distribute exact integers. </p>

<p>Definition at line <a class="el" href="../../de/d06/_global_trigger_8cc_source.html#l01812">1812</a> of file <a class="el" href="../../de/d06/_global_trigger_8cc_source.html">GlobalTrigger.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>components/icemc/<a class="el" href="../../dc/ded/_global_trigger_8h_source.html">GlobalTrigger.h</a></li>
<li>components/icemc/<a class="el" href="../../de/d06/_global_trigger_8cc_source.html">GlobalTrigger.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Apr 5 2021 19:55:44 for ANITA Software by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
