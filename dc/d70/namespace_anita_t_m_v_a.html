<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="generator" content="Doxygen 1.8.11"/>
    <title>ANITA Software: AnitaTMVA Namespace Reference</title>
    <link href="../../tabs.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="../../jquery.js"></script>
    <script type="text/javascript" src="../../dynsections.js"></script>
    <link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
    <link href="../../doxygen.css" rel="stylesheet" type="text/css" />
    <link href="../../customdoxygen.css" rel="stylesheet" type="text/css"/>
  </head>
  <body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
      <div id="titlearea">
	<table cellspacing="0" cellpadding="0">
	  <tbody>	    
	    <tr style="height: 56px;">
	      <td id="projectlogo"><img width="960" alt="Logo" src="../../anitaSoftware.png"/></td>
	    </tr>
	  </tbody>
	</table>
      </div>
      <!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Introduction</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="../../namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">AnitaTMVA Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc0/struct_anita_t_m_v_a_1_1_m_v_a_var.html">MVAVar</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d47/struct_anita_t_m_v_a_1_1_m_v_a_var_set.html">MVAVarSet</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ac4dc21eec252a10925a3cdf91a475d95"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac4dc21eec252a10925a3cdf91a475d95"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>MVAPurpose</b> { <b>PURPOSE_NORMAL</b> = 0, 
<b>PURPOSE_SPECTATOR</b> =1, 
<b>PURPOSE_TARGET</b> = 2
 }</td></tr>
<tr class="separator:ac4dc21eec252a10925a3cdf91a475d95"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a70f325e32c3a6d586d31d022a2ea176e"><td class="memItemLeft" align="right" valign="top">TTree *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d70/namespace_anita_t_m_v_a.html#a70f325e32c3a6d586d31d022a2ea176e">makeTMVATree</a> (TTree *intree, TFile *outfile, const char *out_tree_name, const <a class="el" href="../../d8/d47/struct_anita_t_m_v_a_1_1_m_v_a_var_set.html">MVAVarSet</a> &amp;vars, const char *selection)</td></tr>
<tr class="separator:a70f325e32c3a6d586d31d022a2ea176e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fc4da15cd851c7fa598f125e27d2e33"><td class="memItemLeft" align="right" valign="top">TTree *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d70/namespace_anita_t_m_v_a.html#a0fc4da15cd851c7fa598f125e27d2e33">makeTMVATree</a> (int ntrees, TTree **intree, TFile *outfile, const char *out_tree_name, const <a class="el" href="../../d8/d47/struct_anita_t_m_v_a_1_1_m_v_a_var_set.html">MVAVarSet</a> &amp;vars, const char *selection)</td></tr>
<tr class="separator:a0fc4da15cd851c7fa598f125e27d2e33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e214d294a56aabcc347029ed47b2625"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d70/namespace_anita_t_m_v_a.html#a8e214d294a56aabcc347029ed47b2625">evaluateTMVA</a> (TTree *tree, const <a class="el" href="../../d8/d47/struct_anita_t_m_v_a_1_1_m_v_a_var_set.html">MVAVarSet</a> &amp;vars, const char *branch_name, const char *tmva_weights_xml_file, double aux=0)</td></tr>
<tr class="separator:a8e214d294a56aabcc347029ed47b2625"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>TMVA helpers for ANITA analysis</p>
<p>The basic problem is that <a class="el" href="../../d1/df5/class_anita_event_summary.html" title="Common analysis format between UCorrelator and Acclaim. ">AnitaEventSummary</a> has arrays of things, but TMVA doesn't support that properly (even though... it could in a way similar to TTree::Scan)</p>
<p>See macros/TMVAExample.C for an example analysis.</p>
<p>Cosmin Deaconu <a href="#" onclick="location.href='mai'+'lto:'+'coz'+'zy'+'d@k'+'ic'+'p.u'+'ch'+'ica'+'go'+'.ed'+'u'; return false;">cozzy<span style="display: none;">.nosp@m.</span>d@ki<span style="display: none;">.nosp@m.</span>cp.uc<span style="display: none;">.nosp@m.</span>hica<span style="display: none;">.nosp@m.</span>go.ed<span style="display: none;">.nosp@m.</span>u</a> </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a8e214d294a56aabcc347029ed47b2625"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int AnitaTMVA::evaluateTMVA </td>
          <td>(</td>
          <td class="paramtype">TTree *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d8/d47/struct_anita_t_m_v_a_1_1_m_v_a_var_set.html">MVAVarSet</a> &amp;&#160;</td>
          <td class="paramname"><em>vars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>branch_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tmva_weights_xml_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>aux</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds the TMVA classifier result to a tree. This tree should have been generated with makeTMVATree. A branch will be added to the tree with the same name as the method</p>
<p>This takes care of generating the reader and such.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tree</td><td>the tree to evaluate. Should have been generated with maketMVATree </td></tr>
    <tr><td class="paramname">vars</td><td>The set of variables that are being evaluated. All branches must exist in tree and the TMVA method must have been generated with it. </td></tr>
    <tr><td class="paramname">branch_name</td><td>The name of the evaluation branch to be added to the tree </td></tr>
    <tr><td class="paramname">tmva_weights_file</td><td>The weights.xml file that you want to read in. </td></tr>
    <tr><td class="paramname">aux</td><td>aux parameter to EvaluateMVA  0 on success; </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d8/d28/_anita_t_m_v_a_8cc_source.html#l00163">163</a> of file <a class="el" href="../../d8/d28/_anita_t_m_v_a_8cc_source.html">AnitaTMVA.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a70f325e32c3a6d586d31d022a2ea176e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TTree * AnitaTMVA::makeTMVATree </td>
          <td>(</td>
          <td class="paramtype">TTree *&#160;</td>
          <td class="paramname"><em>intree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TFile *&#160;</td>
          <td class="paramname"><em>outfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>out_tree_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d8/d47/struct_anita_t_m_v_a_1_1_m_v_a_var_set.html">MVAVarSet</a> &amp;&#160;</td>
          <td class="paramname"><em>vars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>selection</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a tree that may be used by TMVA. Stores in in file outfile, which must exist.</p>
<p>This tree can then be used for training or reading using the varName you provide. Note that internally this uses TTree::Draw, so if your cuts suck, you might end up with an insane amount of memory usage, but since TMVA loads everything into memory anyway, I don't think you lose much. This is necessary because TMVA's methods with selection don't properly handle cuts on array variables. Maybe in the future they'll fix this and this won't be necessary.</p>
<p>The tree will also have the iteration and entry number in it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">intree</td><td>The input tree </td></tr>
    <tr><td class="paramname">outfile</td><td>The file to write the output tree to </td></tr>
    <tr><td class="paramname">out_tree_hname</td><td>the name of the new tree </td></tr>
    <tr><td class="paramname">varsAn</td><td><a class="el" href="../../d8/d47/struct_anita_t_m_v_a_1_1_m_v_a_var_set.html">MVAVarSet</a> describing the variables to use </td></tr>
    <tr><td class="paramname">selection</td><td>The selection cuts. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the created tree </dd></dl>

<p>Definition at line <a class="el" href="../../d8/d28/_anita_t_m_v_a_8cc_source.html#l00082">82</a> of file <a class="el" href="../../d8/d28/_anita_t_m_v_a_8cc_source.html">AnitaTMVA.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a0fc4da15cd851c7fa598f125e27d2e33"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TTree * AnitaTMVA::makeTMVATree </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ntrees</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TTree **&#160;</td>
          <td class="paramname"><em>intree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TFile *&#160;</td>
          <td class="paramname"><em>outfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>out_tree_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d8/d47/struct_anita_t_m_v_a_1_1_m_v_a_var_set.html">MVAVarSet</a> &amp;&#160;</td>
          <td class="paramname"><em>vars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>selection</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parallel version of above, will treat each input tree separately </p>

<p>Definition at line <a class="el" href="../../d8/d28/_anita_t_m_v_a_8cc_source.html#l00088">88</a> of file <a class="el" href="../../d8/d28/_anita_t_m_v_a_8cc_source.html">AnitaTMVA.cc</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Apr 5 2021 19:55:49 for ANITA Software by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
