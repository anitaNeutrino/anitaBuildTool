<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="generator" content="Doxygen 1.8.11"/>
    <title>ANITA Software: icemc</title>
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
  </head>
  <body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
      <div id="titlearea">
	<table cellspacing="0" cellpadding="0">
	  <tbody>	    
	    <tr style="height: 56px;">
	      <td id="projectlogo"><img width="960" alt="Logo" src="anitaSoftware.png"/></td>
	    </tr>
	  </tbody>
	</table>
      </div>
      <!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Introduction</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">icemc </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://github.com/anitaNeutrino/icemc">icemc</a> is a tool to simulate neutrino interactions in the ice.</p>
<h2>Prerequisites</h2>
<p>To compile icemc you (should) only need a working <a href="https://root.cern.ch/downloading-root">ROOT</a> installation.</p>
<p>Optional extras include the ANITA libraries <a href="https://github.com/nichol77/libRootFftwWrapper">libRootFftwWrapper</a> and <a href="https://github.com/anitaNeutrino/eventReaderRoot">eventReaderRoot</a> libraries. The recommended way to install these is with the <a href="https://github.com/anitaNeutrino/anitaBuildTool">anitaBuildTool</a> which downloads and compiles the core ANITA software libraries. (See the ANITA-3 notes section for more information.)</p>
<h2>Getting icemc</h2>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;git clone https://github.com/anitaNeutrino/icemc</div></div><!-- fragment --> <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;make</div></div><!-- fragment --><p> Currently the Makefile tries to figure out whether to compile against the ANITA libraries by looking for the <code>ANITA_UTIL_INSTALL_DIR</code> environment variable. The Makefile may require some love by uncommenting or commenting out various site specific flags at the top. Makefiles are a dark art so if you need help send an email or message someone in the slack <a href="https://anitamission.slack.com/messages/anita_simulation/">#anita_simulation</a> or <a href="https://anitamission.slack.com/messages/github_commits/">#github_commits</a> rooms.</p>
<h2>Running icemc</h2>
<p>To run icemc you need first to define two environment variables and then add them to your (DY)LD_LIBRARY_PATH, so that icemc knows where to look for its input files:</p>
<ul>
<li>ICEMC_SRC_DIR should point to the directory where all your source code is (i.e. this directory)</li>
<li>ICEMC_BUILD_DIR should point to the directory where your exectutables and .pcm are (in case you run icemc by itself it's again this directory, but in case you installed icemc from the anitaBuildTool, it should be something different)</li>
</ul>
<p>An example is: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;export ICEMC_SRC_DIR=/path/to/anitaBuildTool/components/icemc/</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;export ICEMC_BUILD_DIR=/path/to/anitaBuildTool/build/components/icemc/</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;export DYLD_LIBRARY_PATH=${ICEMC_SRC_DIR}:${ICEMC_BUILD_DIR}:${DYLD_LIBRARY_PATH}</div></div><!-- fragment --><p>If you use the anitaBuildTool, it's a good practice to add these lines to your setup script.</p>
<p>To run icemc do: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;./icemc -i {inputFile} -o {outputDirectory} -r {runNumber} -n {numberOfNeutrinos} -t {triggerThreshold} -e {energyExponent}</div></div><!-- fragment --><p> For only running over a single event, the <code>-x {eventNumber}</code> option can be used.</p>
<p>If parameters are not specified</p>
<ul>
<li>inputs from inputs.conf are used</li>
<li>the output directory is output</li>
<li>the run number is</li>
<li>number of neutrinos to generate as is input file</li>
<li>trigger threshold for full band as defined in <a class="el" href="d7/d52/anita_8hh_source.html">anita.hh</a> for that flight</li>
</ul>
<h2>ANITA formatted data output</h2>
<p>To produce Anita-like output files, you must have the <a href="https://github.com/nichol77/libRootFftwWrapper">libRootFftwWrapper</a> and <a href="https://github.com/anitaNeutrino/eventReaderRoot">eventReaderRoot</a> libraries installed before compiling icemc.</p>
<p>After that you will need to find and uncomment the site specific flag <code>ANITA3_EVENTREADER=1</code> in the Makefile. The next time you compile and run icemc, the ANITA-like outputs will be produced automatically. The outputs also include the <a class="el" href="d7/dd8/class_truth_anita_event.html" title="TruthAnitaEvent – The Truth ANITA Event. ">TruthAnitaEvent</a> tree with the Monte Carlo truth information about the simulated events.</p>
<h2>ANITA-3 notes</h2>
<ul>
<li>If you want to generate anita-3 simulations with the impulse response and noise you should turn on the flags in the input file as by default they are off</li>
</ul>
<p>If you want to generate a pure thermal noise sample you should to turn on these flags:</p><ul>
<li>Set signal to 0 to measure noise hits</li>
<li>skip cuts on neutrinos that won’t reach the payload (this is just to have it running quicker as we 0’ed the signal anyway)</li>
<li>Min bias flag (so that everything gets saved) </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Apr 5 2021 19:55:41 for ANITA Software by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
